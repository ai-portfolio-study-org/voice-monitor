
# 맞춤형 음성 송금 시뮬레이터 + 이상거래 탐지 모니터링 웹앱 기획서

## ✅ 서비스 목표

모바일 인터페이스 기반의 음성 송금 시스템 시뮬레이터를 좌측 화면에, 실시간 이상거래 탐지 모니터링 대시보드(Grafana)를 우측 웹뷰로 연동하여 하나의 화면에서 시뮬레이션과 실시간 이상 탐지를 동시에 확인할 수 있는 웹앱 제공.

---

## 🗺️ 사이트맵

* `/` 메인 시뮬레이션 화면 (좌측: 앱 시뮬레이터, 우측: Grafana 웹뷰)

---

## 💡 핵심 기능

### \[좌측 모바일 시뮬레이터 영역]

* 앱 내 로그인 및 회원가입 플로우 (모바일 앱 UI처럼)
* 텍스트 입력 또는 마이크 버튼 클릭으로 송금 요청 입력
* 입력된 송금 요청에 따라:

  * "송금 실행 중..." 애니메이션 출력
  * 백엔드로 요청 전송

### \[우측 Grafana 모니터링 웹뷰]

* 실시간 이상거래 탐지 대시보드 iframe으로 삽입
* 백엔드 연동을 통해 이상거래 탐지 이벤트 발생 시 시각화

---

## 🎯 유저 플로우

1. 사용자는 좌측 모바일 화면에서 앱처럼 회원가입/로그인을 진행한다.
2. 텍스트 또는 마이크 버튼을 통해 송금 문장을 입력한다.
3. "송금 실행 중" UI가 출력되며, 백엔드에서 송금 요청 처리와 이상 여부 판별 시작
4. 우측의 Grafana 웹뷰에서 이상 거래 탐지 관련 로그 및 경고가 실시간으로 출력된다.

---

## 💽 데이터 명세

### \[입력 데이터]

* 사용자 정보 (이메일, 비밀번호)
* 송금 요청 텍스트 (`예: 김민수에게 5만원 보내줘`)
* 음성 텍스트 변환 결과 (optional)

### \[백엔드 전송 데이터]

```json
{
  "userId": "UUID",
  "amount": 50000,
  "receiver": "김민수",
  "timestamp": "2025-05-25T18:00:00Z"
}
```

### \[Grafana 연동 고려사항]

* Prometheus에 커스텀 메트릭 전송
* 이상탐지 이벤트 시 Alertmanager 또는 Annotation 생성

---

## 🎨 UI/UX 구성

### 화면 분할

* 좌측: 모바일 형태의 앱 시뮬레이터 (최소 너비 360px)
* 우측: iframe으로 삽입된 Grafana 대시보드

### 좌측 구성

* 상단: 로고 및 계정 정보
* 중앙: 채팅형 송금 입력 UI (로그인/회원가입 포함)
* 하단: 텍스트 입력창 + 마이크 버튼 + 전송 버튼

### 우측 구성

* 전체가 Grafana 웹뷰로 채워지며, 실시간 차트/탐지 결과 노출

---

## 🎨 디자인 가이드

* 좌측 모바일 뷰: 실제 스마트폰 앱처럼 보이는 카드형 UI
* 톤: 진한 남색/네이비 + 흰색 배경
* 폰트: Pretendard 또는 Noto Sans KR
* 송금 실행 시 로딩 애니메이션 사용 (로딩 아이콘 또는 텍스트 깜빡임)
* Grafana 영역은 다크 모드 기준으로 맞춤

---

## ⚠️ 고려사항

* **실시간성 보장**: Grafana에 Prometheus 또는 다른 시계열 데이터베이스를 통해 1\~5초 주기로 데이터 푸시 필요
* **모바일 시뮬레이터 반응성**: 반응형 구현 및 확대/축소 방지 설정 필요
* **데모 데이터/샘플 계정 제공**: 로그인 없이 바로 체험 가능한 모드 지원 (옵션)
* **보안**: 실 사용자 데이터 저장 없이 세션 기반 샘플 처리
* **서버 장애 대비**: Grafana iframe 로딩 실패 시 안내 메시지 출력

---

## 🛠️ 개발 스테이지

### Stage 1: 프론트엔드 시뮬레이터 개발

* 좌측 모바일 인터페이스 구성 (로그인/회원가입 포함)
* 입력된 텍스트에 따라 UI 흐름 전환 구현
* 우측 Grafana 웹뷰 iframe 삽입

### Stage 2: REST API 백엔드 구축

* 회원가입, 로그인 API
* 송금 요청 분석 및 이상 탐지 메트릭 생성 API
* Grafana와 연동되는 Prometheus exporter 구현

### Stage 3: 실시간 이벤트 동기화

* 실시간 송금/탐지 결과를 브라우저에서도 확인 가능하도록 WebSocket 또는 SSE 적용
* 탐지 이벤트 발생 시 애니메이션 및 사운드 효과 추가 가능
